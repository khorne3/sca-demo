pipelines:
  pull-requests:
    '**':
    - step:
        name: Build the code
        caches:
          - maven
        script:
          - mvn clean package
        artifacts:
          - target/hello-shiftleft-0.0.1.jar
          - sl-analysis.sh
          - shiftleft.yml
    - step:
        name: shiftleft code analysis
        image: shiftleft/inspect
        script:
          - sh sl-analysis.sh